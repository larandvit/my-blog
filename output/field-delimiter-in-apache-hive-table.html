<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-Y8W3B3BXLX"></script><script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            
            gtag('config', 'G-Y8W3B3BXLX');
    </script><title>Field Delimiter in Apache Hive Table - tech jogging</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="A personal blog includes technical articles aimed to share knowledge and experience with others."><link rel="canonical" href="https://techjogging.com/field-delimiter-in-apache-hive-table.html"><meta name="author" content="Vitaly Saversky"><meta name="description" content="Not too much official documentation can be found on how to define a field delimiter in a create or an alter Apache Hive statement. This setting is requested for delimited text files placed as source of Hive tables. When a field delimiter is not assigned properly, Hive can't split data …"><meta property="og:site_name" content="tech jogging"><meta property="og:type" content="article"><meta property="og:title" content="Field Delimiter in Apache Hive Table"><meta property="og:url" content="https://techjogging.com/field-delimiter-in-apache-hive-table.html"><meta property="og:description" content="Not too much official documentation can be found on how to define a field delimiter in a create or an alter Apache Hive statement. This setting is requested for delimited text files placed as source of Hive tables. When a field delimiter is not assigned properly, Hive can't split data …"><meta property="article:published_time" content="2020-04-25"><meta property="article:section" content="Hive"><meta property="article:author" content="Vitaly Saversky"><link rel="stylesheet" href="https://techjogging.com/theme/css/bootstrap.flatly.min.css" type="text/css"><link href="https://techjogging.com/theme/css/font-awesome.min.css" rel="stylesheet"><link href="https://techjogging.com/theme/css/pygments/monokai.css" rel="stylesheet"><link href="https://techjogging.com/theme/tipuesearch/tipuesearch.css" rel="stylesheet"><link rel="stylesheet" href="https://techjogging.com/theme/css/style.css" type="text/css"></head><body><div class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="https://techjogging.com/" class="navbar-brand"><img alt="tech jogging" class="img-responsive pull-left gap-right" src="https://techjogging.com/extra/site-logo.png" width> tech jogging </a></div><div class="collapse navbar-collapse navbar-ex1-collapse"><ul class="nav navbar-nav"><li><a href="https://techjogging.com/pages/about-blog.html"> About blog </a></li></ul><ul class="nav navbar-nav navbar-right"><li><span><form class="navbar-search" action="/search.html"><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required><button type="submit" class="tipue_search_button"><div class="tipue_search_icon">&#9906;</div></button></form></span></li></ul></div></div></div><div class="container"><div class="row"><div class="col-sm-9"><section id="content"><article><header class="page-header"><h1><a href="https://techjogging.com/field-delimiter-in-apache-hive-table.html" rel="bookmark" title="Permalink to Field Delimiter in Apache Hive Table"> Field Delimiter in Apache Hive Table </a></h1></header><div class="entry-content"><div class="panel"><div class="panel-body"><footer class="post-info"><span class="label label-default">Date</span><span class="published article-info-label"><i class="fa fa-calendar"></i><time datetime="2020-04-25T00:00:00-04:00"> 2020-04-25</time></span><span class="label label-default pageviews">Views</span><span class="article-info-label pageviews"><span class="badge pageviews" id="query-output"></span></span><span class="label label-default">Category</span><span class="article-info-label"><a href="https://techjogging.com/category/hive.html">Hive</a></span></footer></div></div><p>Not too much official documentation can be found on how to define a field delimiter in a create or an alter Apache Hive statement. This setting is requested for delimited text files placed as source of Hive tables. When a field delimiter is not assigned properly, Hive can't split data into columns, and as a result, the first column will contain all data and the rest of columns will have NULL values. Also, it's critical to know a default field delimiter if field delimiter setting is missed in a create statement.</p><p>There are 2 major SerDe (Serializer/Deserializer) classes for text data. SerDe defines input/output (IO) interface which handles: (1) read data from a Hive table and (2) write it back out to HDFS. <code>org.apache.hadoop.hive.serde2</code> is the Hive SerDe library including <code>TEXTFILE</code> formats.</p><ol><li><code>org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe</code>. The default field delimiter value is <code>'\001'</code>.</li><li><code>org.apache.hadoop.hive.serde2.OpenCSVSerde</code>The default field delimiter value is <code>','</code>.</li></ol><p><code>LazySimpleSerDe</code> is more efficient in terms of performance. <code>OpenCSVSerde has</code> a limitation to handle only string data type in Hive tables. The default format is <code>LazySimpleSerDe</code>.</p><p>The main issue with field delimiter is that Java <code>char</code> data type is used as an argument to assign a field delimiter. It can hold only 2 bytes. Java <code>char</code> data type can understand both ASCII and Unicode characters but it can handle Unicode characters which belong to ASCII table. Characters of the first part of ASCII table with codes from 0 to 127 are only accepted as field delimiters. If you need to use the extended ASCII character from 128 to 255 codes, it should be used other SerDe classes, for example, <code>org.apache.hadoop.hive.contrib.serde2.RegexSerDe</code>.</p><p>The rules to assign a filed delimiter are.</p><ol><li>Any visible ASCII character can be assigned directly, for example, <code>'1'</code>, <code>'a'</code>, or <code>'!'</code>.</li><li>It can be used special predefined characters, for example. <code>'\t'</code>, <code>'\r'</code>, and <code>'\n'</code>.</li><li>If a character belongs to ASCII set and invisible, it can be used octal or Unicode notations.</li></ol><p>Octal starts from back slash and contains 3 digits, for example, <code>'\001'</code>. Character <code>'a'</code> is <code>'\040'</code>.</p><p>Hex has '\u' prefix and includes 4 digits. It represents a Unicode code but you have to use decimal ASCII code, for example, <code>'\u0010'</code> definition is converted to <code>'\000a'</code> Hive table field delimiter. Another sample is visible ASCII character <code>'a'</code>, <code>'\u0032'</code> field delimiter definition is converted to<code>'\0020'</code> in Hive table.</p><p>Those commands can be used to retrieve field delimiter for a table from Hive meta data.</p><ul><li><p>Show statement.</p><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sample_table_name</span><span class="p">;</span>
</pre></div></li><li><p>Describe statement #1.</p><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span> <span class="n">FORMATTED</span> <span class="n">sample_table_name</span><span class="p">;</span>
</pre></div></li><li><p>Describe statement #2.</p><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span> <span class="n">EXTENDED</span> <span class="n">sample_table_name</span><span class="p">;</span>
</pre></div></li></ul><p>Field delimiter can be assigned or changed in those Hive statements.</p><ul><li><p>CREATE statement with <code>LazySimpleSerDe</code> interface.</p><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sample</span> <span class="p">(</span>
    <span class="n">column1</span> <span class="n">string</span><span class="p">,</span>
    <span class="n">column2</span> <span class="n">string</span><span class="p">,</span>
    <span class="n">column3</span> <span class="n">string</span><span class="p">)</span>
<span class="k">ROW</span> <span class="n">FORMAT</span> <span class="n">DELIMITED</span> 
   <span class="n">FIELDS</span> <span class="n">TERMINATED</span> <span class="k">BY</span> <span class="s1">&#39;,&#39;</span> 
   <span class="n">LINES</span> <span class="n">TERMINATED</span> <span class="k">BY</span> <span class="s1">&#39;\n&#39;</span>
<span class="n">STORED</span> <span class="k">AS</span> <span class="n">TEXTFILE</span>
<span class="k">LOCATION</span> <span class="s1">&#39;/folder1/folder2&#39;</span>
</pre></div></li><li><p>CREATE statement with <code>OpenCSVSerde</code> interface.</p><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">sample</span> <span class="p">(</span>
    <span class="n">column1</span> <span class="n">string</span><span class="p">,</span>
    <span class="n">column2</span> <span class="n">string</span><span class="p">,</span>
    <span class="n">column3</span> <span class="n">string</span><span class="p">)</span>
<span class="k">ROW</span> <span class="n">FORMAT</span> <span class="n">SERDE</span> <span class="s1">&#39;org.apache.hadoop.hive.serde2.OpenCSVSerde&#39;</span>
<span class="k">WITH</span> <span class="n">SERDEPROPERTIES</span> <span class="p">(</span>
   <span class="s1">&#39;separatorChar&#39;</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">STORED</span> <span class="k">AS</span> <span class="n">TEXTFILE</span>
<span class="k">LOCATION</span> <span class="s1">&#39;/folder1/folder2&#39;</span>
</pre></div></li><li><p>ALTER statement with <code>LazySimpleSerDe</code> interface.</p><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">multi_char_field_delim</span> <span class="k">SET</span> <span class="n">SERDEPROPERTIES</span><span class="p">(</span><span class="s1">&#39;field.delim&#39;</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div></li><li><p>ALTER statement with <code>OpenCSVSerde</code> interface.</p><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">multi_char_field_delim</span> <span class="k">SET</span> <span class="n">SERDEPROPERTIES</span><span class="p">(</span><span class="s1">&#39;separatorChar&#39;</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div><p>or</p><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">multi_char_field_delim</span> <span class="k">SET</span> <span class="n">SERDEPROPERTIES</span><span class="p">(</span><span class="s1">&#39;field.delim&#39;</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div></li></ul></div><hr><section class="comments" id="comments"><h2>Comments</h2><div id="disqus_thread"></div><script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'techjogging'; // required: replace example with your forum shortname

            var disqus_config = function () {
                this.language = "en";

                        this.page.identifier = '2020-04-25-field-delimiter-in-apache-hive-table';
                        this.page.url = 'https://techjogging.com/field-delimiter-in-apache-hive-table.html';
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></section></article></section></div><div class="col-sm-3" id="sidebar"><aside><section class="well well-sm"><ul class="list-group list-group-flush"><li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4><ul class="list-group" id="recentposts"><li class="list-group-item"><a href="https://techjogging.com/common-table-expressions-in-trino.html">Common Table Expressions in Trino</a></li><li class="list-group-item"><a href="https://techjogging.com/embed-google-universal-analytics-pageviews-static-web-site.html">Embed Google Universal Analytics Pageviews in Static Web Site</a></li><li class="list-group-item"><a href="https://techjogging.com/add-google-analytics-4-pageviews-static-web-site.html">Add Google Analytics 4 Pageviews in Static Web Site</a></li><li class="list-group-item"><a href="https://techjogging.com/migration-trino-iceberg-table-format.html">Migration to Trino Iceberg Table Format</a></li><li class="list-group-item"><a href="https://techjogging.com/unleash-dbeaver-productivity.html">Unleash DBeaver Productivity</a></li></ul></li><li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4><ul class="list-group" id="categories"><li class="list-group-item"><a href="https://techjogging.com/category/cobol.html"><i class="fa fa-folder-open fa-lg"></i>COBOL</a></li><li class="list-group-item"><a href="https://techjogging.com/category/cron.html"><i class="fa fa-folder-open fa-lg"></i>Cron</a></li><li class="list-group-item"><a href="https://techjogging.com/category/dbeaver.html"><i class="fa fa-folder-open fa-lg"></i>DBeaver</a></li><li class="list-group-item"><a href="https://techjogging.com/category/docker.html"><i class="fa fa-folder-open fa-lg"></i>Docker</a></li><li class="list-group-item"><a href="https://techjogging.com/category/git.html"><i class="fa fa-folder-open fa-lg"></i>Git</a></li><li class="list-group-item"><a href="https://techjogging.com/category/google-analytics.html"><i class="fa fa-folder-open fa-lg"></i>Google Analytics</a></li><li class="list-group-item"><a href="https://techjogging.com/category/hardware.html"><i class="fa fa-folder-open fa-lg"></i>Hardware</a></li><li class="list-group-item"><a href="https://techjogging.com/category/hive.html"><i class="fa fa-folder-open fa-lg"></i>Hive</a></li><li class="list-group-item"><a href="https://techjogging.com/category/hubitat.html"><i class="fa fa-folder-open fa-lg"></i>Hubitat</a></li><li class="list-group-item"><a href="https://techjogging.com/category/kerberos.html"><i class="fa fa-folder-open fa-lg"></i>Kerberos</a></li><li class="list-group-item"><a href="https://techjogging.com/category/linux.html"><i class="fa fa-folder-open fa-lg"></i>Linux</a></li><li class="list-group-item"><a href="https://techjogging.com/category/microsoft-access.html"><i class="fa fa-folder-open fa-lg"></i>Microsoft Access</a></li><li class="list-group-item"><a href="https://techjogging.com/category/microsoft-excel.html"><i class="fa fa-folder-open fa-lg"></i>Microsoft Excel</a></li><li class="list-group-item"><a href="https://techjogging.com/category/minio.html"><i class="fa fa-folder-open fa-lg"></i>MinIO</a></li><li class="list-group-item"><a href="https://techjogging.com/category/ms-sql-server.html"><i class="fa fa-folder-open fa-lg"></i>MS SQL Server</a></li><li class="list-group-item"><a href="https://techjogging.com/category/networking.html"><i class="fa fa-folder-open fa-lg"></i>Networking</a></li><li class="list-group-item"><a href="https://techjogging.com/category/nginx.html"><i class="fa fa-folder-open fa-lg"></i>Nginx</a></li><li class="list-group-item"><a href="https://techjogging.com/category/python.html"><i class="fa fa-folder-open fa-lg"></i>Python</a></li><li class="list-group-item"><a href="https://techjogging.com/category/security.html"><i class="fa fa-folder-open fa-lg"></i>Security</a></li><li class="list-group-item"><a href="https://techjogging.com/category/surveillance.html"><i class="fa fa-folder-open fa-lg"></i>Surveillance</a></li><li class="list-group-item"><a href="https://techjogging.com/category/synology-dsm.html"><i class="fa fa-folder-open fa-lg"></i>Synology DSM</a></li><li class="list-group-item"><a href="https://techjogging.com/category/talend.html"><i class="fa fa-folder-open fa-lg"></i>Talend</a></li><li class="list-group-item"><a href="https://techjogging.com/category/trino.html"><i class="fa fa-folder-open fa-lg"></i>Trino</a></li><li class="list-group-item"><a href="https://techjogging.com/category/virtualization.html"><i class="fa fa-folder-open fa-lg"></i>Virtualization</a></li><li class="list-group-item"><a href="https://techjogging.com/category/windows.html"><i class="fa fa-folder-open fa-lg"></i>Windows</a></li></ul></li></ul></section></aside></div></div></div><footer><div class="container"><hr><div class="row"><div class="col-xs-10">&copy; 2024 Vitaly Saversky &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>, <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>, <a href="http://getbootstrap.com" target="_blank">Bootstrap</a></div><div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i><a href="#">Back to top</a></p></div></div></div></footer><script src="https://techjogging.com/theme/js/jquery.min.js"></script><script src="https://techjogging.com/theme/js/bootstrap.min.js"></script><script src="https://techjogging.com/theme/js/respond.min.js"></script><script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'techjogging'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script><script src="https://techjogging.com/theme/js/report_access.js"></script><script src="https://techjogging.com/theme/js/blog_metrics.js"></script><script src="https://techjogging.com/theme/js/blog_metrics_universal.js"></script><script type="text/javascript">
window.addEventListener('DOMContentLoaded', function () {
	pagePath = window.location.pathname;
	pageViewsAnalytics4 = 0;
	pageViewsAnalyticsUniversal = 0;
	
	if (blog_views_universal.get(pagePath)) {
		pageViewsAnalyticsUniversal = blog_views_universal.get(pagePath); 
	}
	
	if (blog_views.get(pagePath)) {
		pageViewsAnalytics4 = blog_views.get(pagePath); 
	}
	
	pageViewTotal = +pageViewsAnalyticsUniversal + +pageViewsAnalytics4;
	if (pageViewTotal!='0') {
		formattedPageViewTotal = pageViewTotal.toLocaleString('en-US');
		$('#query-output').text(formattedPageViewTotal);
		for (pageviewsElement of document.getElementsByClassName('pageviews')){
			pageviewsElement.style.display='initial';
		}
	}
	
});
</script></body></html>