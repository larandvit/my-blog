<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml"><head><title>Set Up NVMe Raid on Z370/Z390 Motherboards - tech jogging</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="A personal blog includes technical articles aimed to share knowledge and experience with others."><link rel="canonical" href="https://techjogging.com/set-up-nvme-raid-z370-z390-chipset-motherboards.html"><meta name="author" content="Vitaly Saversky"><meta name="description" content="Z370 and Z390 Intel chipsets was released back in 2017 and 2018 years and they still are mainstream now. There are many motherboards based on Z370 and Z390 chipsets containing 2 or more M.2 sockets. Those motherboards might accommodate NVMe SSD storages with RAID 0 or 1 built on …"><meta property="og:site_name" content="tech jogging"><meta property="og:type" content="article"><meta property="og:title" content="Set Up NVMe Raid on Z370/Z390 Motherboards"><meta property="og:url" content="https://techjogging.com/set-up-nvme-raid-z370-z390-chipset-motherboards.html"><meta property="og:description" content="Z370 and Z390 Intel chipsets was released back in 2017 and 2018 years and they still are mainstream now. There are many motherboards based on Z370 and Z390 chipsets containing 2 or more M.2 sockets. Those motherboards might accommodate NVMe SSD storages with RAID 0 or 1 built on …"><meta property="article:published_time" content="2020-08-10"><meta property="article:section" content="Hardware"><meta property="article:author" content="Vitaly Saversky"><link rel="stylesheet" href="https://techjogging.com/theme/css/bootstrap.flatly.min.css" type="text/css"><link href="https://techjogging.com/theme/css/font-awesome.min.css" rel="stylesheet"><link href="https://techjogging.com/theme/css/pygments/monokai.css" rel="stylesheet"><link href="https://techjogging.com/theme/tipuesearch/tipuesearch.css" rel="stylesheet"><link rel="stylesheet" href="https://techjogging.com/theme/css/style.css" type="text/css"></head><body><div class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="https://techjogging.com/" class="navbar-brand"><img alt="tech jogging" class="img-responsive pull-left gap-right" src="https://techjogging.com/extra/site-logo.png" width> tech jogging </a></div><div class="collapse navbar-collapse navbar-ex1-collapse"><ul class="nav navbar-nav"><li><a href="https://techjogging.com/pages/about-blog.html"> About blog </a></li></ul><ul class="nav navbar-nav navbar-right"><li><span><form class="navbar-search" action="/search.html"><input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" required><button type="submit" class="tipue_search_button"><div class="tipue_search_icon">&#9906;</div></button></form></span></li></ul></div></div></div><div class="container"><div class="row"><div class="col-sm-9"><section id="content"><article><header class="page-header"><h1><a href="https://techjogging.com/set-up-nvme-raid-z370-z390-chipset-motherboards.html" rel="bookmark" title="Permalink to Set Up NVMe Raid on Z370/Z390 Motherboards"> Set Up NVMe Raid on Z370/Z390 Motherboards </a></h1></header><div class="entry-content"><div class="panel"><div class="panel-body"><footer class="post-info"><span class="label label-default">Date</span><span class="published article-info-label"><i class="fa fa-calendar"></i><time datetime="2020-08-10T00:00:00-04:00"> 2020-08-10</time></span><span class="label label-default">Modified</span><span class="modified article-info-label"><i class="fa fa-calendar"></i><time datetime="2020-10-12T00:00:00-04:00"> 2020-10-12</time></span><span class="label label-default pageviews">Views</span><span class="article-info-label pageviews"><span class="badge pageviews" id="query-output"></span></span><span class="label label-default">Category</span><span class="article-info-label"><a href="https://techjogging.com/category/hardware.html">Hardware</a></span></footer></div></div><p>Z370 and Z390 Intel chipsets was released back in 2017 and 2018 years and they still are mainstream now. There are many motherboards based on Z370 and Z390 chipsets containing 2 or more M.2 sockets. Those motherboards might accommodate NVMe SSD storages with RAID 0 or 1 built on Intel® Rapid Storage Technology.</p><p><a href="https://www.asrock.com/mb/Intel/Z370%20Pro4/index.asp">ASRock Z370 Pro4</a> and <a href="https://www.asus.com/ca-en/Motherboards/PRIME-Z390-A/">ASUS Prime Z390-A</a> motherboards are used in the article to build RAID 1 on <a href="https://www.westerndigital.com/products/internal-drives/wd-blue-nvme-ssd">WD Blue SN550 1TB</a> and <a href="https://www.intel.ca/content/www/ca/en/products/memory-storage/solid-state-drives/consumer-ssds/6-series/ssd-660p-series/660p-series-1-tb-m-2-80mm-3d2.html">Intel 660P 1TB</a> NVMe SSDs.</p><p>The performnce of NVMe SSDs can be observed in <a href="https://techjogging.com/nvme-raid-performance-z390-chipset-motherboards.html">NVMe RAID Performance on Z390 Chipset Motherboard</a> article.</p><p>Those two motherboards and NVMe SSDs work unstable in bootable RAID 1 configuration. It seems the chipsets are not aimed to be used in that role. After installing Windows 10 on RAID 1, both motherboards are constantly doing two steps: rebuilding RAID and crashing Windows.</p><p><img alt="Windows 10 DPC_WATCHDOG VIOLATION crash" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/windows-crash.jpg"></p><p>There are 2 ways to fix it. The first way is to use <a href="https://www.asus.com/ca-en/Motherboard-Accessories/HYPER-M-2-X16-CARD-V2/">ASUS HYPER M.2 X16 CARD V2</a> adapter. It is only applicable to ASUS motherboard as ASRock motherboard is lack of bifurcation. The second way is to make your motherboard cooler running CPU and motherboard fans on 80% or more of their capacity. Also, it can be used non-bootable RAID.</p><p>Intel 660P NVMe is only supported by ASUS HYPER M.2 X16 CARD V2 adapter as the adapter accepts Intel NVMe SSDs for Z370 and Z390 chipsets. WD Blue SN550 is recognized but RAID can't be built and it works unstable as well.</p><h2>Installing RAID on ASRock Z370 Pro4 motherboard</h2><ol><li><p>Enable RAID in BIOS.</p><ul><li>Enter Advanced menu.</li><li>Click Storage Configuration menu.</li><li>Switch SATA Operation Mode option to Raid.</li><li>Enable remapping of installed PCIE SSD M.2 slots.</li><li>Save BIOS setting.</li><li>Exit BIOS setup.</li><li>Reboot computer.</li></ul><p><img alt="ASRock motherboard create Raid" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asrock-enable-raid.png"></p></li><li><p>Create a RAID volume.</p><ul><li>Enter Advanced menu.</li><li>Click Intel Rapid Storage Technology. This item is available only if Raid mode is enabled.</li></ul><p><img alt="ASRock motherboard Intel Rapid Storage Technology" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asrock-rapid-storage-technology.png"></p><ul><li>Create RAID.</li></ul><p><img alt="ASRock motherboard create volume" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asrock-create-volume.png"></p></li></ol><p>After the RAID setup completed, Windows 10 can be installed. Windows 10 does not request any additional drivers as BIOS handles everything transparently.</p><h2>Installing Raid on ASUS Prime Z390-A motherboard</h2><p>The easiest way to set up Raid is EZ Tuning Wizard. It takes care of all settings.</p><ol><li><p>Run EZ Tuning Wizard from BIOS landing screen.</p><p><img alt="ASUS motherboard EZ Tuning Wizard" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asus-ez-tuning-wizard.png"></p></li><li><p>Select PCIE mode</p><p><img alt="ASUS motherboard PCIE Raid Mode" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asus-pcie-selection.png"></p></li><li><p>Follow wizard.</p></li></ol><p>After the RAID setup completed, Windows 10 can be installed. Windows 10 does not request any additional drivers as BIOS handles everything transparently.</p><h2>Installing RAID with ASUS HYPER M.2 X16 CARD V2 adapter</h2><ol><li><p>Enable the adapter in BIOS</p><p>Pay attention to information how many NVMe SSDs can be used in the adapter and what slots can be occupied. In the sample below, M.2_1, M.2_3, and M.2_4 are usable slots and it can be maximum 3 NVMe SSDs.</p><p><img alt="ASUS Enable HYPER M.2 X16 CARD V2" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asus-enable-hyper-m.2-x16-card-v2.jpg"></p></li><li><p>Switch to RAID mode in SATA Mode Selection</p><p><img alt="ASUS RAID SATA mode" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asus-sata-mode-raid.jpg"></p></li><li><p>Reboot computer</p></li><li><p>Create a RAID volume.</p><ul><li>Enter Advanced menu.</li><li>Click Intel Rapid Storage Technology. This item is available only if RAID mode is enabled.</li><li>Create RAID.</li></ul><p><img alt="ASUS motherboard create volume" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asus-create-raid-volume.jpg"></p></li><li><p>Switch Launch CSM to Disabled in Boot menu</p><p><img alt="ASUS launch CSM disabled" src="https://techjogging.com/images/set-up-nvme-raid-z370-z390-chipset-motherboards/asus-launch-csm-disabled.jpg"></p></li></ol><p>After the RAID setup completed, Windows 10 can be installed. Windows 10 requests drivers and they can downloaded from <a href="https://www.asus.com/ca-en/Motherboards/PRIME-Z390-A/HelpDesk_Download/">the motherboard support page</a> and located in SATA section. Extract drivers and write to USB with Windows 10 installation.</p></div><hr><section class="comments" id="comments"><h2>Comments</h2><div id="disqus_thread"></div><script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'techjogging'; // required: replace example with your forum shortname

            var disqus_config = function () {
                this.language = "en";

                        this.page.identifier = '2020-08-10-set-up-nvme-raid-z370-z390-chipset-motherboards';
                        this.page.url = 'https://techjogging.com/set-up-nvme-raid-z370-z390-chipset-motherboards.html';
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></section></article></section></div><div class="col-sm-3" id="sidebar"><aside><section class="well well-sm"><ul class="list-group list-group-flush"><li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4><ul class="list-group" id="recentposts"><li class="list-group-item"><a href="https://techjogging.com/install-dbeaver-ce-git-extension.html">Install DBeaver CE Git Extension</a></li><li class="list-group-item"><a href="https://techjogging.com/add-github-repository-dbeaver-ce-ssh-protocol.html">Add GitHub Repository to DBeaver CE Secured with SSH Protocol</a></li><li class="list-group-item"><a href="https://techjogging.com/create-ssh-key-dbeaver-ce.html">Create SSH Key in DBeaver CE</a></li><li class="list-group-item"><a href="https://techjogging.com/access-minio-secured-ssl-aws-python-sdk.html">Access MinIO Secured by SSL/TLS with AWS SDK for Python (Boto3)</a></li><li class="list-group-item"><a href="https://techjogging.com/view-yoosee-sd-m5-doorbell-stream-vlc-media-player.html">View Yoosee SD-M5 Doorbell Stream in VLC Media Player</a></li></ul></li><li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4><ul class="list-group" id="categories"><li class="list-group-item"><a href="https://techjogging.com/category/cron.html"><i class="fa fa-folder-open fa-lg"></i>Cron</a></li><li class="list-group-item"><a href="https://techjogging.com/category/dbeaver.html"><i class="fa fa-folder-open fa-lg"></i>DBeaver</a></li><li class="list-group-item"><a href="https://techjogging.com/category/docker.html"><i class="fa fa-folder-open fa-lg"></i>Docker</a></li><li class="list-group-item"><a href="https://techjogging.com/category/git.html"><i class="fa fa-folder-open fa-lg"></i>Git</a></li><li class="list-group-item"><a href="https://techjogging.com/category/google-analytics.html"><i class="fa fa-folder-open fa-lg"></i>Google Analytics</a></li><li class="list-group-item"><a href="https://techjogging.com/category/hardware.html"><i class="fa fa-folder-open fa-lg"></i>Hardware</a></li><li class="list-group-item"><a href="https://techjogging.com/category/hive.html"><i class="fa fa-folder-open fa-lg"></i>Hive</a></li><li class="list-group-item"><a href="https://techjogging.com/category/kerberos.html"><i class="fa fa-folder-open fa-lg"></i>Kerberos</a></li><li class="list-group-item"><a href="https://techjogging.com/category/linux.html"><i class="fa fa-folder-open fa-lg"></i>Linux</a></li><li class="list-group-item"><a href="https://techjogging.com/category/microsoft-access.html"><i class="fa fa-folder-open fa-lg"></i>Microsoft Access</a></li><li class="list-group-item"><a href="https://techjogging.com/category/microsoft-excel.html"><i class="fa fa-folder-open fa-lg"></i>Microsoft Excel</a></li><li class="list-group-item"><a href="https://techjogging.com/category/minio.html"><i class="fa fa-folder-open fa-lg"></i>MinIO</a></li><li class="list-group-item"><a href="https://techjogging.com/category/ms-sql-server.html"><i class="fa fa-folder-open fa-lg"></i>MS SQL Server</a></li><li class="list-group-item"><a href="https://techjogging.com/category/nginx.html"><i class="fa fa-folder-open fa-lg"></i>Nginx</a></li><li class="list-group-item"><a href="https://techjogging.com/category/python.html"><i class="fa fa-folder-open fa-lg"></i>Python</a></li><li class="list-group-item"><a href="https://techjogging.com/category/security.html"><i class="fa fa-folder-open fa-lg"></i>Security</a></li><li class="list-group-item"><a href="https://techjogging.com/category/surveillance.html"><i class="fa fa-folder-open fa-lg"></i>Surveillance</a></li><li class="list-group-item"><a href="https://techjogging.com/category/synology-dsm.html"><i class="fa fa-folder-open fa-lg"></i>Synology DSM</a></li><li class="list-group-item"><a href="https://techjogging.com/category/talend.html"><i class="fa fa-folder-open fa-lg"></i>Talend</a></li><li class="list-group-item"><a href="https://techjogging.com/category/trinopresto.html"><i class="fa fa-folder-open fa-lg"></i>Trino(Presto)</a></li><li class="list-group-item"><a href="https://techjogging.com/category/virtualization.html"><i class="fa fa-folder-open fa-lg"></i>Virtualization</a></li><li class="list-group-item"><a href="https://techjogging.com/category/windows.html"><i class="fa fa-folder-open fa-lg"></i>Windows</a></li></ul></li></ul></section></aside></div></div></div><footer><div class="container"><hr><div class="row"><div class="col-xs-10">&copy; 2021 Vitaly Saversky &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>, <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>, <a href="http://getbootstrap.com" target="_blank">Bootstrap</a></div><div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i><a href="#">Back to top</a></p></div></div></div></footer><script src="https://techjogging.com/theme/js/jquery.min.js"></script><script src="https://techjogging.com/theme/js/bootstrap.min.js"></script><script src="https://techjogging.com/theme/js/respond.min.js"></script><script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'techjogging'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script><script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-156524189-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script><script src="https://techjogging.com/theme/js/report_access.js"></script><script type="text/javascript">
(function(w,d,s,g,js,fs){
  g=w.gapi||(w.gapi={});g.analytics={q:[],ready:function(f){this.q.push(f);}};
  js=d.createElement(s);fs=d.getElementsByTagName(s)[0];
  js.src='https://apis.google.com/js/platform.js';
  fs.parentNode.insertBefore(js,fs);js.onload=function(){g.load('analytics');};
}(window,document,'script'));
</script><script type="text/javascript">
gapi.analytics.ready(function() {

	  gapi.analytics.auth.authorize({
	    'serverAuth': {
	      'access_token': ANALYTICS_TOKEN
	    }
	  });
	  
	  var pagePathFilter = 'ga:pagePath==' + window.location.pathname;
	  
	  var report = new gapi.analytics.report.Data({
		  query: {
		    ids: 'ga:209816969',
		    'start-date': '2020-02-29',
		    'end-date': 'today',
		    metrics: 'ga:pageviews',
		    filters: pagePathFilter
		  }
		});

		report.on('success', function(response) {
			pageViews = response.totalsForAllResults['ga:pageviews'];
			if (pageViews!='0') {
				$('#query-output').text(pageViews);
				for (pageviewsElement of document.getElementsByClassName('pageviews')){
					pageviewsElement.style.display='initial';
				}
			}
		});

		report.execute();

	  
	});
</script></body></html>